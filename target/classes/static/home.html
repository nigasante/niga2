<!DOCTYPE html>
    <html>
    <head>
        <title>News App</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .header {
                background-color: #00aaff;
                padding: 10px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            .search-bar {
                padding: 5px;
                width: 200px;
            }
            .categories {
                margin-left: 20px;
            }
        </style>
    </head>
    <body>
    
        <div class="header">
            <div>
                <img src="logo.png" alt="Logo" height="40">
                <span>News</span>
            </div>
            <input type="text" class="search-bar" id="searchInput" placeholder="Search by title...">
            <div class="categories">
                <a href="?category=all">All</a>
            </div>
            <div>
                <a href="#manage">Manage Articles</a>
                <a href="#logout">Logout</a>
            </div>
        </div>

        <div id="articleList">
            <!-- Article list will be populated here -->
            <p>Loading...</p>
        </div>

        <script>
            const searchInput = document.getElementById('searchInput');
            const articleList = document.getElementById('articleList');

            searchInput.addEventListener('input', async () => {
                const keyword = searchInput.value.trim();
                if (keyword.length > 0) {
                    try {
                        const response = await fetch(`/api/articles/search?keyword=${encodeURIComponent(keyword)}`);
                        const articles = await response.json();
                        renderArticles(articles);
                    } catch (error) {
                        articleList.innerHTML = '<p>Error loading articles.</p>';
                    }
                } else {
                    articleList.innerHTML = '<p>Loading...</p>';
                }
            });

            function renderArticles(articles) {
                if (articles.length > 0) {
                    articleList.innerHTML = articles.map(article => `
                        <div>
                            <img src="${article.imageUrl || 'default.jpg'}" alt="${article.title}" width="50">
                            <a href="/article/${article.articleID}">${article.title}</a>
                        </div>
                    `).join('');
                } else {
                    articleList.innerHTML = '<p>No articles found.</p>';
                }
            }
        </script>
    </body>
    </html>